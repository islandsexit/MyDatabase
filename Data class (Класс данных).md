[[Основы классов в Kotlin]]

# Класс данных - это специализированный класс в Kotlin для хранения данных 

```Kotlin
data class User(val name:String, val age:Int)
```

Эти  классы были созданы в языке специально для удобного хранения данных 

Компилятор автоматически генерирует следующие методы при компиляции:
1) пару функций `object.equals(object1)`/ `object.hashCode()`
2) Функции мультидикларации 
3) Функцию `object.copy()`

## Свойства, объявленные в теле класса

Компилятор использует только свойства, определенные в основном конструкторе для автоматически созданных функций. Чтобы исключить свойство из автоматически созданной реализации, объявите его в теле класса:

```kotlin
data class Person(val name: String) {
    var age: Int = 0
}
```

Только свойство `name` будет учитываться в реализациях функций `toString()`, `equals()`, `hashCode()` и `copy()`, и будет создана только одна компонентная функция `component1()`. Даже если два объекта класса `Person` будут иметь разные значения свойств `age`, они будут считаться равными.

```kotlin
val person1 = Person("John")
val person2 = Person("John")
person1.age = 10
person2.age = 20
```

## Копирование

Используйте функцию `copy()` для копирования объекта, что позволит изменить только _некоторые_ его свойств, оставив остальные неизменными. Для написанного выше класса `User` такая реализация будет выглядеть следующим образом:

```kotlin
fun copy(name: String = this.name, age: Int = this.age) = User(name, age)
```

Это позволяет вам писать:

```kotlin
val jack = User(name = "Jack", age = 1)
val olderJack = jack.copy(age = 2)
```

## Классы данных и мульти-декларации

Сгенерированные для классов данных _компонентные функции_ позволяют использовать их в мульти-декларациях

```kotlin
val jane = User("Jane", 35)
val (name, age) = jane
println("$name, $age years of age") // выводит "Jane, 35 years of age"
```

## Метод equals

Сгенерированный метод равенства в дата классах, который позволяет сравнить каждый из параметров на предмет равенства
```kotlin
val jane = User("Jane", 35)
val jane2 = User("Jane", 35)
jane.equals(jane2) //return true
```

## Параметры вне конструктора

Есть проблемка вот тут, с параметрами вне конструктора, если объявить их так:
```kotlin
data class Person(val name: String) {
    var age: Int = 0
}
```

То все сгенерированные методы не будут их видеть и будут игнорировать 
и это дает нам возможность к большим багам, если мы, к примеру не переопределим функцию `copy()`


## Стандартные классы данных

Стандартная библиотека предоставляет классы `Pair` и `Triple`. Однако, в большинстве случаев, именованные классы данных являются лучшим решением, потому что делают код более читаемым, избегая малосодержательные имена для свойств.