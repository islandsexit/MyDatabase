Область видимости в [[Котлин]] - это то, где объекты существуют 

Она имеет косвенное взаимодействие с :
> Если объекта не существует, он не должен быть видимым 

И, конечно область видимости помогает [[Garbage Collector]] следить за жизненным циклом объекта

---
## Глобальная видимость (Global Scope)

Объявления высшего порядка в Котлин файле - эти объявления имееют Глобальную видимость.

Неизменяемые объекты - Классы, `val` и т.д - будут жить до конца выполнения кода.
Изменяемые объекты - var - будут иметь [[Ссылки]] до конца выполнения кода

```kotlin
class Foo{
	fun something(){
		printl("hello")
	}
}

val foo = Foo()

foo.something()

var bar = Foo()

bar.something()

bar = Foo()

bar.something()
```

Отличие `bar` от `foo` - это то, что после того, как `bar` начал указывать на что-то другое, все, на что указывал `bar` будет удалено сборщиком мусора

---

## Сущностная видимость (Instance Scope)

Объекты объявленные внутри классов имеют сущностную видимость, которая совпадает с жизненным циклом класса

```kotlin
class Foo(val count:Int)

fun main(){
	val instanceOne = Foo(1)
	val instanceTwo = Foo(2)

	println(instanceOne.count)
	println(instanceTwo.count)
}
```

---
## Локальная видимость (Local Scope)

Любой объект внутри чего-то меньшего чем Класс имеет локальную область видимости

### Область видимости функций (см [[Функции в котлин]])

Переменные внутри функции имеют жизненный цикл выполнения этой функии 
```kotlin
class Foo{
	fun smth(message:String){
		val len = message.length
		println(len)
	}
}

fun main(){
	Foo().smth("sdsdssd")
}
```

Здесть `len` находится внутри области видимости функции и внее ее пределов мы не можем получить к ней доступ 

### Область видимости лямбды  см([[Лямбда выражение]])

Переменные инициализированные в лямбде имеют жизненный цикл лямбды
``` kotlin
class Foo {
  fun something(messages: List<String>) {
    messages.forEach { message ->
      val length = message.length
      println("'$message' has $length characters")
    }
  }
}

fun main() {
  Foo().something(listOf("this", "is", "a", "test"))
}
```

Мы не можем получить доступ к `length` даже из самой функции, только из лямбда-выражения